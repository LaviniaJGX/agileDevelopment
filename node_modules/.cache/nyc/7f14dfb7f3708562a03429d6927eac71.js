'use strict';

var cov_1718txgerl = function () {
    var path = '/Users/dailu/Documents/homework/endback/coursestest/routes/student.js',
        hash = '1fa74f44345f6b6d7fed842c5767bedce73a65e0',
        Function = function () {}.constructor,
        global = new Function('return this')(),
        gcv = '__coverage__',
        coverageData = {
        path: '/Users/dailu/Documents/homework/endback/coursestest/routes/student.js',
        statementMap: {
            '0': {
                start: {
                    line: 1,
                    column: 14
                },
                end: {
                    line: 1,
                    column: 32
                }
            },
            '1': {
                start: {
                    line: 2,
                    column: 13
                },
                end: {
                    line: 2,
                    column: 29
                }
            },
            '2': {
                start: {
                    line: 3,
                    column: 14
                },
                end: {
                    line: 3,
                    column: 42
                }
            },
            '3': {
                start: {
                    line: 6,
                    column: 0
                },
                end: {
                    line: 15,
                    column: 1
                }
            },
            '4': {
                start: {
                    line: 8,
                    column: 4
                },
                end: {
                    line: 8,
                    column: 54
                }
            },
            '5': {
                start: {
                    line: 9,
                    column: 4
                },
                end: {
                    line: 14,
                    column: 7
                }
            },
            '6': {
                start: {
                    line: 10,
                    column: 8
                },
                end: {
                    line: 11,
                    column: 26
                }
            },
            '7': {
                start: {
                    line: 11,
                    column: 12
                },
                end: {
                    line: 11,
                    column: 26
                }
            },
            '8': {
                start: {
                    line: 13,
                    column: 8
                },
                end: {
                    line: 13,
                    column: 50
                }
            },
            '9': {
                start: {
                    line: 18,
                    column: 0
                },
                end: {
                    line: 28,
                    column: 1
                }
            },
            '10': {
                start: {
                    line: 19,
                    column: 4
                },
                end: {
                    line: 19,
                    column: 54
                }
            },
            '11': {
                start: {
                    line: 20,
                    column: 4
                },
                end: {
                    line: 27,
                    column: 7
                }
            },
            '12': {
                start: {
                    line: 21,
                    column: 8
                },
                end: {
                    line: 26,
                    column: 9
                }
            },
            '13': {
                start: {
                    line: 22,
                    column: 12
                },
                end: {
                    line: 22,
                    column: 44
                }
            },
            '14': {
                start: {
                    line: 25,
                    column: 12
                },
                end: {
                    line: 25,
                    column: 54
                }
            },
            '15': {
                start: {
                    line: 31,
                    column: 0
                },
                end: {
                    line: 41,
                    column: 2
                }
            },
            '16': {
                start: {
                    line: 32,
                    column: 4
                },
                end: {
                    line: 32,
                    column: 54
                }
            },
            '17': {
                start: {
                    line: 33,
                    column: 4
                },
                end: {
                    line: 40,
                    column: 7
                }
            },
            '18': {
                start: {
                    line: 34,
                    column: 8
                },
                end: {
                    line: 39,
                    column: 9
                }
            },
            '19': {
                start: {
                    line: 35,
                    column: 12
                },
                end: {
                    line: 35,
                    column: 69
                }
            },
            '20': {
                start: {
                    line: 38,
                    column: 12
                },
                end: {
                    line: 38,
                    column: 54
                }
            },
            '21': {
                start: {
                    line: 44,
                    column: 0
                },
                end: {
                    line: 56,
                    column: 1
                }
            },
            '22': {
                start: {
                    line: 45,
                    column: 4
                },
                end: {
                    line: 45,
                    column: 54
                }
            },
            '23': {
                start: {
                    line: 46,
                    column: 18
                },
                end: {
                    line: 46,
                    column: 33
                }
            },
            '24': {
                start: {
                    line: 47,
                    column: 12
                },
                end: {
                    line: 47,
                    column: 35
                }
            },
            '25': {
                start: {
                    line: 48,
                    column: 4
                },
                end: {
                    line: 55,
                    column: 7
                }
            },
            '26': {
                start: {
                    line: 49,
                    column: 8
                },
                end: {
                    line: 54,
                    column: 9
                }
            },
            '27': {
                start: {
                    line: 50,
                    column: 12
                },
                end: {
                    line: 50,
                    column: 44
                }
            },
            '28': {
                start: {
                    line: 53,
                    column: 12
                },
                end: {
                    line: 53,
                    column: 54
                }
            },
            '29': {
                start: {
                    line: 60,
                    column: 0
                },
                end: {
                    line: 79,
                    column: 1
                }
            },
            '30': {
                start: {
                    line: 61,
                    column: 4
                },
                end: {
                    line: 61,
                    column: 54
                }
            },
            '31': {
                start: {
                    line: 62,
                    column: 18
                },
                end: {
                    line: 62,
                    column: 31
                }
            },
            '32': {
                start: {
                    line: 64,
                    column: 4
                },
                end: {
                    line: 64,
                    column: 34
                }
            },
            '33': {
                start: {
                    line: 65,
                    column: 4
                },
                end: {
                    line: 65,
                    column: 55
                }
            },
            '34': {
                start: {
                    line: 66,
                    column: 4
                },
                end: {
                    line: 66,
                    column: 53
                }
            },
            '35': {
                start: {
                    line: 67,
                    column: 4
                },
                end: {
                    line: 67,
                    column: 35
                }
            },
            '36': {
                start: {
                    line: 69,
                    column: 4
                },
                end: {
                    line: 77,
                    column: 7
                }
            },
            '37': {
                start: {
                    line: 70,
                    column: 8
                },
                end: {
                    line: 76,
                    column: 9
                }
            },
            '38': {
                start: {
                    line: 71,
                    column: 12
                },
                end: {
                    line: 71,
                    column: 55
                }
            },
            '39': {
                start: {
                    line: 75,
                    column: 12
                },
                end: {
                    line: 75,
                    column: 77
                }
            },
            '40': {
                start: {
                    line: 81,
                    column: 0
                },
                end: {
                    line: 94,
                    column: 1
                }
            },
            '41': {
                start: {
                    line: 82,
                    column: 4
                },
                end: {
                    line: 82,
                    column: 54
                }
            },
            '42': {
                start: {
                    line: 83,
                    column: 21
                },
                end: {
                    line: 83,
                    column: 43
                }
            },
            '43': {
                start: {
                    line: 83,
                    column: 55
                },
                end: {
                    line: 83,
                    column: 101
                }
            },
            '44': {
                start: {
                    line: 84,
                    column: 16
                },
                end: {
                    line: 84,
                    column: 38
                }
            },
            '45': {
                start: {
                    line: 85,
                    column: 4
                },
                end: {
                    line: 93,
                    column: 6
                }
            },
            '46': {
                start: {
                    line: 86,
                    column: 8
                },
                end: {
                    line: 92,
                    column: 9
                }
            },
            '47': {
                start: {
                    line: 87,
                    column: 12
                },
                end: {
                    line: 87,
                    column: 28
                }
            },
            '48': {
                start: {
                    line: 88,
                    column: 12
                },
                end: {
                    line: 88,
                    column: 68
                }
            },
            '49': {
                start: {
                    line: 91,
                    column: 12
                },
                end: {
                    line: 91,
                    column: 55
                }
            },
            '50': {
                start: {
                    line: 96,
                    column: 0
                },
                end: {
                    line: 109,
                    column: 1
                }
            },
            '51': {
                start: {
                    line: 97,
                    column: 4
                },
                end: {
                    line: 97,
                    column: 54
                }
            },
            '52': {
                start: {
                    line: 98,
                    column: 21
                },
                end: {
                    line: 98,
                    column: 43
                }
            },
            '53': {
                start: {
                    line: 98,
                    column: 55
                },
                end: {
                    line: 98,
                    column: 81
                }
            },
            '54': {
                start: {
                    line: 99,
                    column: 16
                },
                end: {
                    line: 99,
                    column: 38
                }
            },
            '55': {
                start: {
                    line: 100,
                    column: 4
                },
                end: {
                    line: 108,
                    column: 6
                }
            },
            '56': {
                start: {
                    line: 101,
                    column: 8
                },
                end: {
                    line: 107,
                    column: 9
                }
            },
            '57': {
                start: {
                    line: 102,
                    column: 12
                },
                end: {
                    line: 102,
                    column: 28
                }
            },
            '58': {
                start: {
                    line: 103,
                    column: 12
                },
                end: {
                    line: 103,
                    column: 68
                }
            },
            '59': {
                start: {
                    line: 106,
                    column: 12
                },
                end: {
                    line: 106,
                    column: 52
                }
            },
            '60': {
                start: {
                    line: 113,
                    column: 0
                },
                end: {
                    line: 124,
                    column: 1
                }
            },
            '61': {
                start: {
                    line: 114,
                    column: 4
                },
                end: {
                    line: 123,
                    column: 7
                }
            },
            '62': {
                start: {
                    line: 115,
                    column: 8
                },
                end: {
                    line: 121,
                    column: 9
                }
            },
            '63': {
                start: {
                    line: 116,
                    column: 12
                },
                end: {
                    line: 116,
                    column: 28
                }
            },
            '64': {
                start: {
                    line: 117,
                    column: 12
                },
                end: {
                    line: 117,
                    column: 76
                }
            },
            '65': {
                start: {
                    line: 120,
                    column: 12
                },
                end: {
                    line: 120,
                    column: 66
                }
            },
            '66': {
                start: {
                    line: 126,
                    column: 0
                },
                end: {
                    line: 126,
                    column: 24
                }
            }
        },
        fnMap: {
            '0': {
                name: '(anonymous_0)',
                decl: {
                    start: {
                        line: 6,
                        column: 17
                    },
                    end: {
                        line: 6,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 6,
                        column: 31
                    },
                    end: {
                        line: 15,
                        column: 1
                    }
                },
                line: 6
            },
            '1': {
                name: '(anonymous_1)',
                decl: {
                    start: {
                        line: 9,
                        column: 17
                    },
                    end: {
                        line: 9,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 9,
                        column: 41
                    },
                    end: {
                        line: 14,
                        column: 5
                    }
                },
                line: 9
            },
            '2': {
                name: '(anonymous_2)',
                decl: {
                    start: {
                        line: 18,
                        column: 18
                    },
                    end: {
                        line: 18,
                        column: 19
                    }
                },
                loc: {
                    start: {
                        line: 18,
                        column: 32
                    },
                    end: {
                        line: 28,
                        column: 1
                    }
                },
                line: 18
            },
            '3': {
                name: '(anonymous_3)',
                decl: {
                    start: {
                        line: 20,
                        column: 43
                    },
                    end: {
                        line: 20,
                        column: 44
                    }
                },
                loc: {
                    start: {
                        line: 20,
                        column: 67
                    },
                    end: {
                        line: 27,
                        column: 5
                    }
                },
                line: 20
            },
            '4': {
                name: '(anonymous_4)',
                decl: {
                    start: {
                        line: 31,
                        column: 20
                    },
                    end: {
                        line: 31,
                        column: 21
                    }
                },
                loc: {
                    start: {
                        line: 31,
                        column: 34
                    },
                    end: {
                        line: 41,
                        column: 1
                    }
                },
                line: 31
            },
            '5': {
                name: '(anonymous_5)',
                decl: {
                    start: {
                        line: 33,
                        column: 46
                    },
                    end: {
                        line: 33,
                        column: 47
                    }
                },
                loc: {
                    start: {
                        line: 33,
                        column: 70
                    },
                    end: {
                        line: 40,
                        column: 5
                    }
                },
                line: 33
            },
            '6': {
                name: '(anonymous_6)',
                decl: {
                    start: {
                        line: 44,
                        column: 22
                    },
                    end: {
                        line: 44,
                        column: 23
                    }
                },
                loc: {
                    start: {
                        line: 44,
                        column: 35
                    },
                    end: {
                        line: 56,
                        column: 1
                    }
                },
                line: 44
            },
            '7': {
                name: '(anonymous_7)',
                decl: {
                    start: {
                        line: 48,
                        column: 41
                    },
                    end: {
                        line: 48,
                        column: 42
                    }
                },
                loc: {
                    start: {
                        line: 48,
                        column: 65
                    },
                    end: {
                        line: 55,
                        column: 5
                    }
                },
                line: 48
            },
            '8': {
                name: '(anonymous_8)',
                decl: {
                    start: {
                        line: 60,
                        column: 20
                    },
                    end: {
                        line: 60,
                        column: 21
                    }
                },
                loc: {
                    start: {
                        line: 60,
                        column: 34
                    },
                    end: {
                        line: 79,
                        column: 1
                    }
                },
                line: 60
            },
            '9': {
                name: '(anonymous_9)',
                decl: {
                    start: {
                        line: 69,
                        column: 17
                    },
                    end: {
                        line: 69,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 69,
                        column: 31
                    },
                    end: {
                        line: 77,
                        column: 5
                    }
                },
                line: 69
            },
            '10': {
                name: '(anonymous_10)',
                decl: {
                    start: {
                        line: 81,
                        column: 23
                    },
                    end: {
                        line: 81,
                        column: 24
                    }
                },
                loc: {
                    start: {
                        line: 81,
                        column: 36
                    },
                    end: {
                        line: 94,
                        column: 1
                    }
                },
                line: 81
            },
            '11': {
                name: '(anonymous_11)',
                decl: {
                    start: {
                        line: 85,
                        column: 71
                    },
                    end: {
                        line: 85,
                        column: 72
                    }
                },
                loc: {
                    start: {
                        line: 85,
                        column: 96
                    },
                    end: {
                        line: 93,
                        column: 5
                    }
                },
                line: 85
            },
            '12': {
                name: '(anonymous_12)',
                decl: {
                    start: {
                        line: 96,
                        column: 20
                    },
                    end: {
                        line: 96,
                        column: 21
                    }
                },
                loc: {
                    start: {
                        line: 96,
                        column: 33
                    },
                    end: {
                        line: 109,
                        column: 1
                    }
                },
                line: 96
            },
            '13': {
                name: '(anonymous_13)',
                decl: {
                    start: {
                        line: 100,
                        column: 51
                    },
                    end: {
                        line: 100,
                        column: 52
                    }
                },
                loc: {
                    start: {
                        line: 100,
                        column: 76
                    },
                    end: {
                        line: 108,
                        column: 5
                    }
                },
                line: 100
            },
            '14': {
                name: '(anonymous_14)',
                decl: {
                    start: {
                        line: 113,
                        column: 27
                    },
                    end: {
                        line: 113,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 113,
                        column: 41
                    },
                    end: {
                        line: 124,
                        column: 1
                    }
                },
                line: 113
            },
            '15': {
                name: '(anonymous_15)',
                decl: {
                    start: {
                        line: 114,
                        column: 45
                    },
                    end: {
                        line: 114,
                        column: 46
                    }
                },
                loc: {
                    start: {
                        line: 114,
                        column: 59
                    },
                    end: {
                        line: 123,
                        column: 5
                    }
                },
                line: 114
            }
        },
        branchMap: {
            '0': {
                loc: {
                    start: {
                        line: 10,
                        column: 8
                    },
                    end: {
                        line: 11,
                        column: 26
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 10,
                        column: 8
                    },
                    end: {
                        line: 11,
                        column: 26
                    }
                }, {
                    start: {
                        line: 10,
                        column: 8
                    },
                    end: {
                        line: 11,
                        column: 26
                    }
                }],
                line: 10
            },
            '1': {
                loc: {
                    start: {
                        line: 21,
                        column: 8
                    },
                    end: {
                        line: 26,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 21,
                        column: 8
                    },
                    end: {
                        line: 26,
                        column: 9
                    }
                }, {
                    start: {
                        line: 21,
                        column: 8
                    },
                    end: {
                        line: 26,
                        column: 9
                    }
                }],
                line: 21
            },
            '2': {
                loc: {
                    start: {
                        line: 34,
                        column: 8
                    },
                    end: {
                        line: 39,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 34,
                        column: 8
                    },
                    end: {
                        line: 39,
                        column: 9
                    }
                }, {
                    start: {
                        line: 34,
                        column: 8
                    },
                    end: {
                        line: 39,
                        column: 9
                    }
                }],
                line: 34
            },
            '3': {
                loc: {
                    start: {
                        line: 49,
                        column: 8
                    },
                    end: {
                        line: 54,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 49,
                        column: 8
                    },
                    end: {
                        line: 54,
                        column: 9
                    }
                }, {
                    start: {
                        line: 49,
                        column: 8
                    },
                    end: {
                        line: 54,
                        column: 9
                    }
                }],
                line: 49
            },
            '4': {
                loc: {
                    start: {
                        line: 70,
                        column: 8
                    },
                    end: {
                        line: 76,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 70,
                        column: 8
                    },
                    end: {
                        line: 76,
                        column: 9
                    }
                }, {
                    start: {
                        line: 70,
                        column: 8
                    },
                    end: {
                        line: 76,
                        column: 9
                    }
                }],
                line: 70
            },
            '5': {
                loc: {
                    start: {
                        line: 86,
                        column: 8
                    },
                    end: {
                        line: 92,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 86,
                        column: 8
                    },
                    end: {
                        line: 92,
                        column: 9
                    }
                }, {
                    start: {
                        line: 86,
                        column: 8
                    },
                    end: {
                        line: 92,
                        column: 9
                    }
                }],
                line: 86
            },
            '6': {
                loc: {
                    start: {
                        line: 101,
                        column: 8
                    },
                    end: {
                        line: 107,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 101,
                        column: 8
                    },
                    end: {
                        line: 107,
                        column: 9
                    }
                }, {
                    start: {
                        line: 101,
                        column: 8
                    },
                    end: {
                        line: 107,
                        column: 9
                    }
                }],
                line: 101
            },
            '7': {
                loc: {
                    start: {
                        line: 115,
                        column: 8
                    },
                    end: {
                        line: 121,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 115,
                        column: 8
                    },
                    end: {
                        line: 121,
                        column: 9
                    }
                }, {
                    start: {
                        line: 115,
                        column: 8
                    },
                    end: {
                        line: 121,
                        column: 9
                    }
                }],
                line: 115
            }
        },
        s: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0,
            '26': 0,
            '27': 0,
            '28': 0,
            '29': 0,
            '30': 0,
            '31': 0,
            '32': 0,
            '33': 0,
            '34': 0,
            '35': 0,
            '36': 0,
            '37': 0,
            '38': 0,
            '39': 0,
            '40': 0,
            '41': 0,
            '42': 0,
            '43': 0,
            '44': 0,
            '45': 0,
            '46': 0,
            '47': 0,
            '48': 0,
            '49': 0,
            '50': 0,
            '51': 0,
            '52': 0,
            '53': 0,
            '54': 0,
            '55': 0,
            '56': 0,
            '57': 0,
            '58': 0,
            '59': 0,
            '60': 0,
            '61': 0,
            '62': 0,
            '63': 0,
            '64': 0,
            '65': 0,
            '66': 0
        },
        f: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0
        },
        b: {
            '0': [0, 0],
            '1': [0, 0],
            '2': [0, 0],
            '3': [0, 0],
            '4': [0, 0],
            '5': [0, 0],
            '6': [0, 0],
            '7': [0, 0]
        },
        _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}();

var express = (cov_1718txgerl.s[0]++, require('express'));
var router = (cov_1718txgerl.s[1]++, express.Router());
var Student = (cov_1718txgerl.s[2]++, require('../models/student'));

//find all students
cov_1718txgerl.s[3]++;
router.findAll = function (req, res) {
    cov_1718txgerl.f[0]++;
    cov_1718txgerl.s[4]++;

    // Return a JSON representation of our list
    res.setHeader('Content-Type', 'application/json');
    cov_1718txgerl.s[5]++;
    Student.find(function (err, students) {
        cov_1718txgerl.f[1]++;
        cov_1718txgerl.s[6]++;

        if (err) {
                cov_1718txgerl.b[0][0]++;
                cov_1718txgerl.s[7]++;

                res.send(err);
            } else {
            cov_1718txgerl.b[0][1]++;
        }cov_1718txgerl.s[8]++;
        res.send(JSON.stringify(students, null, 5));
    });
};

//find certain student by id:
cov_1718txgerl.s[9]++;
router.findById = function (req, res) {
    cov_1718txgerl.f[2]++;
    cov_1718txgerl.s[10]++;

    res.setHeader('Content-Type', 'application/json');
    cov_1718txgerl.s[11]++;
    Student.find({ "_id": req.params.id }, function (err, students) {
        cov_1718txgerl.f[3]++;
        cov_1718txgerl.s[12]++;

        if (err) {
            cov_1718txgerl.b[1][0]++;
            cov_1718txgerl.s[13]++;

            res.send('Student NOT Found!!');
        } else {
            cov_1718txgerl.b[1][1]++;
            cov_1718txgerl.s[14]++;

            res.send(JSON.stringify(students, null, 5));
        }
    });
};

//find certain student by its name;
cov_1718txgerl.s[15]++;
router.findByName = function (req, res) {
    cov_1718txgerl.f[4]++;
    cov_1718txgerl.s[16]++;

    res.setHeader('Content-Type', 'application/json');
    cov_1718txgerl.s[17]++;
    Student.find({ "name": req.params.name }, function (err, students) {
        cov_1718txgerl.f[5]++;
        cov_1718txgerl.s[18]++;

        if (err) {
            cov_1718txgerl.b[2][0]++;
            cov_1718txgerl.s[19]++;

            res.send('The student you asked to find is NOT EXIST!!');
        } else {
            cov_1718txgerl.b[2][1]++;
            cov_1718txgerl.s[20]++;

            res.send(JSON.stringify(students, null, 5));
        }
    });
};

//find certain student which contains certain name elements;
cov_1718txgerl.s[21]++;
router.containNames = function (req, res) {
    cov_1718txgerl.f[6]++;
    cov_1718txgerl.s[22]++;

    res.setHeader('Content-Type', 'application/json');
    var keyword = (cov_1718txgerl.s[23]++, req.params.name);
    var reg = (cov_1718txgerl.s[24]++, new RegExp(keyword, 'i'));
    cov_1718txgerl.s[25]++;
    Student.find({ 'name': { $regex: reg } }, function (err, students) {
        cov_1718txgerl.f[7]++;
        cov_1718txgerl.s[26]++;

        if (err) {
            cov_1718txgerl.b[3][0]++;
            cov_1718txgerl.s[27]++;

            res.send('Student NOT Found!!');
        } else {
            cov_1718txgerl.b[3][1]++;
            cov_1718txgerl.s[28]++;

            res.send(JSON.stringify(students, null, 5));
        }
    });
};

//add student
cov_1718txgerl.s[29]++;
router.addStudent = function (req, res) {
    cov_1718txgerl.f[8]++;
    cov_1718txgerl.s[30]++;

    res.setHeader('Content-Type', 'application/json');
    var student = (cov_1718txgerl.s[31]++, new Student());

    cov_1718txgerl.s[32]++;
    student.name = req.body.name;
    cov_1718txgerl.s[33]++;
    student.studentCategory = req.body.studentCategory;
    cov_1718txgerl.s[34]++;
    student.coursesNumbers = req.body.coursesNumbers;
    cov_1718txgerl.s[35]++;
    student.major = req.body.major;

    cov_1718txgerl.s[36]++;
    student.save(function (err) {
        cov_1718txgerl.f[9]++;
        cov_1718txgerl.s[37]++;

        if (err) {
            cov_1718txgerl.b[4][0]++;
            cov_1718txgerl.s[38]++;

            res.json({ message: 'Student NOT Added!' });
        } else {
            cov_1718txgerl.b[4][1]++;
            cov_1718txgerl.s[39]++;


            res.json({ message: 'Student Added Successfully!', data: student });
        }
    });
};

cov_1718txgerl.s[40]++;
router.changeCategory = function (req, res) {
    cov_1718txgerl.f[10]++;
    cov_1718txgerl.s[41]++;

    res.setHeader('Content-Type', 'application/json');
    var conditions = (cov_1718txgerl.s[42]++, { _id: req.params.id }),
        update = (cov_1718txgerl.s[43]++, { studentCategory: req.body.studentCategory });
    var query = (cov_1718txgerl.s[44]++, { _id: req.params.id });
    cov_1718txgerl.s[45]++;
    Student.update(query, { studentCategory: req.body.studentCategory }, function (err, students) {
        cov_1718txgerl.f[11]++;
        cov_1718txgerl.s[46]++;

        if (err) {
            cov_1718txgerl.b[5][0]++;
            cov_1718txgerl.s[47]++;

            res.status(404);
            cov_1718txgerl.s[48]++;
            res.json({ message: 'Student NOT Found! ', errmsg: err });
        } else {
            cov_1718txgerl.b[5][1]++;
            cov_1718txgerl.s[49]++;

            res.json('Category changed successfully!');
        }
    });
};

cov_1718txgerl.s[50]++;
router.changeMajor = function (req, res) {
    cov_1718txgerl.f[12]++;
    cov_1718txgerl.s[51]++;

    res.setHeader('Content-Type', 'application/json');
    var conditions = (cov_1718txgerl.s[52]++, { _id: req.params.id }),
        update = (cov_1718txgerl.s[53]++, { major: req.body.major });
    var query = (cov_1718txgerl.s[54]++, { _id: req.params.id });
    cov_1718txgerl.s[55]++;
    Student.update(query, { major: req.body.major }, function (err, students) {
        cov_1718txgerl.f[13]++;
        cov_1718txgerl.s[56]++;

        if (err) {
            cov_1718txgerl.b[6][0]++;
            cov_1718txgerl.s[57]++;

            res.status(404);
            cov_1718txgerl.s[58]++;
            res.json({ message: 'Student NOT Found! ', errmsg: err });
        } else {
            cov_1718txgerl.b[6][1]++;
            cov_1718txgerl.s[59]++;

            res.json('Major changed successfully!');
        }
    });
};

//delete student by its id;
cov_1718txgerl.s[60]++;
router.deleteStudentById = function (req, res) {
    cov_1718txgerl.f[14]++;
    cov_1718txgerl.s[61]++;

    Student.findByIdAndRemove(req.params.id, function (err) {
        cov_1718txgerl.f[15]++;
        cov_1718txgerl.s[62]++;

        if (err) {
            cov_1718txgerl.b[7][0]++;
            cov_1718txgerl.s[63]++;

            res.status(404);
            cov_1718txgerl.s[64]++;
            res.json({ message: 'Cant find Student, Student NOT Deleted!' });
        } else {
            cov_1718txgerl.b[7][1]++;
            cov_1718txgerl.s[65]++;

            res.json({ message: 'Student Deleted successfully!' });
        }
    });
};

cov_1718txgerl.s[66]++;
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0dWRlbnQuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJTdHVkZW50IiwiZmluZEFsbCIsInJlcSIsInJlcyIsInNldEhlYWRlciIsImZpbmQiLCJlcnIiLCJzdHVkZW50cyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsImZpbmRCeU5hbWUiLCJuYW1lIiwiY29udGFpbk5hbWVzIiwia2V5d29yZCIsInJlZyIsIlJlZ0V4cCIsIiRyZWdleCIsImFkZFN0dWRlbnQiLCJzdHVkZW50IiwiYm9keSIsInN0dWRlbnRDYXRlZ29yeSIsImNvdXJzZXNOdW1iZXJzIiwibWFqb3IiLCJzYXZlIiwianNvbiIsIm1lc3NhZ2UiLCJkYXRhIiwiY2hhbmdlQ2F0ZWdvcnkiLCJjb25kaXRpb25zIiwiX2lkIiwidXBkYXRlIiwicXVlcnkiLCJzdGF0dXMiLCJlcnJtc2ciLCJjaGFuZ2VNYWpvciIsImRlbGV0ZVN0dWRlbnRCeUlkIiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QyxNQUFSLENBQWVDLEtBQWYsRUFBc0IsRUFBRVQsT0FBT3hCLElBQUlxQixJQUFKLENBQVNHLEtBQWxCLEVBQXRCLEVBQStDLFVBQVVwQixHQUFWLEVBQWVDLFFBQWYsRUFBeUI7QUFBQTtBQUFBOztBQUNwRSxZQUFJRCxHQUFKLEVBQVE7QUFBQTtBQUFBOztBQUNKSCxnQkFBSWlDLE1BQUosQ0FBVyxHQUFYO0FBREk7QUFFSmpDLGdCQUFJeUIsSUFBSixDQUFTLEVBQUNDLFNBQVEscUJBQVQsRUFBZ0NRLFFBQVMvQixHQUF6QyxFQUFUO0FBQ0gsU0FIRCxNQUlLO0FBQUE7QUFBQTs7QUFDREgsZ0JBQUl5QixJQUFKLENBQVMsNkJBQVQ7QUFDSDtBQUNKLEtBUkQ7QUFTSCxDQWJEOztBQWdCQTs7QUFDQTlCLE9BQU95QyxpQkFBUCxHQUEyQixVQUFDckMsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFBQTtBQUFBOztBQUNyQ0gsWUFBUXdDLGlCQUFSLENBQTBCdEMsSUFBSVUsTUFBSixDQUFXQyxFQUFyQyxFQUF5QyxVQUFTUCxHQUFULEVBQWM7QUFBQTtBQUFBOztBQUNuRCxZQUFJQSxHQUFKLEVBQVE7QUFBQTtBQUFBOztBQUNKSCxnQkFBSWlDLE1BQUosQ0FBVyxHQUFYO0FBREk7QUFFSmpDLGdCQUFJeUIsSUFBSixDQUFTLEVBQUVDLFNBQVMseUNBQVgsRUFBVDtBQUNILFNBSEQsTUFJSTtBQUFBO0FBQUE7O0FBQ0ExQixnQkFBSXlCLElBQUosQ0FBUyxFQUFFQyxTQUFTLCtCQUFYLEVBQVQ7QUFDSDtBQUVKLEtBVEQ7QUFVSCxDQVhEOzs7QUFhQVksT0FBT0MsT0FBUCxHQUFpQjVDLE1BQWpCIiwiZmlsZSI6InN0dWRlbnQuanMiLCJzb3VyY2VSb290IjoiL1VzZXJzL2RhaWx1L0RvY3VtZW50cy9ob21ld29yay9lbmRiYWNrL2NvdXJzZXN0ZXN0L3JvdXRlcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xubGV0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG52YXIgU3R1ZGVudCA9IHJlcXVpcmUoJy4uL21vZGVscy9zdHVkZW50Jyk7XG5cbi8vZmluZCBhbGwgc3R1ZGVudHNcbnJvdXRlci5maW5kQWxsID0gKHJlcSwgcmVzKSA9PiB7XG4gICAgLy8gUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBvdXIgbGlzdFxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgU3R1ZGVudC5maW5kKGZ1bmN0aW9uKGVyciwgc3R1ZGVudHMpIHtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XG5cbiAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkoc3R1ZGVudHMsbnVsbCw1KSk7XG4gICAgfSk7XG59XG5cbi8vZmluZCBjZXJ0YWluIHN0dWRlbnQgYnkgaWQ6XG5yb3V0ZXIuZmluZEJ5SWQgPSAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIFN0dWRlbnQuZmluZCh7IFwiX2lkXCIgOiByZXEucGFyYW1zLmlkIH0sZnVuY3Rpb24oZXJyLCBzdHVkZW50cykge1xuICAgICAgICBpZiAoZXJyKXtcbiAgICAgICAgICAgIHJlcy5zZW5kKCdTdHVkZW50IE5PVCBGb3VuZCEhJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHN0dWRlbnRzLG51bGwsNSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vZmluZCBjZXJ0YWluIHN0dWRlbnQgYnkgaXRzIG5hbWU7XG5yb3V0ZXIuZmluZEJ5TmFtZSA9IChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgU3R1ZGVudC5maW5kKHsgXCJuYW1lXCIgOiByZXEucGFyYW1zLm5hbWUgfSxmdW5jdGlvbihlcnIsIHN0dWRlbnRzKSB7XG4gICAgICAgIGlmIChlcnIpe1xuICAgICAgICAgICAgcmVzLnNlbmQoJ1RoZSBzdHVkZW50IHlvdSBhc2tlZCB0byBmaW5kIGlzIE5PVCBFWElTVCEhJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHN0dWRlbnRzLG51bGwsNSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vL2ZpbmQgY2VydGFpbiBzdHVkZW50IHdoaWNoIGNvbnRhaW5zIGNlcnRhaW4gbmFtZSBlbGVtZW50cztcbnJvdXRlci5jb250YWluTmFtZXMgPSAocmVxLCByZXMpID0+e1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgdmFyIGtleXdvcmQgPSByZXEucGFyYW1zLm5hbWU7XG4gICAgdmFyIHJlZz1uZXcgUmVnRXhwKGtleXdvcmQsJ2knKTtcbiAgICBTdHVkZW50LmZpbmQoeyduYW1lJzp7JHJlZ2V4OiByZWd9IH0sZnVuY3Rpb24oZXJyLCBzdHVkZW50cykge1xuICAgICAgICBpZiAoZXJyKXtcbiAgICAgICAgICAgIHJlcy5zZW5kKCdTdHVkZW50IE5PVCBGb3VuZCEhJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHN0dWRlbnRzLG51bGwsNSkpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxuLy9hZGQgc3R1ZGVudFxucm91dGVyLmFkZFN0dWRlbnQgPSAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHZhciBzdHVkZW50ID0gbmV3IFN0dWRlbnQoKTtcblxuICAgIHN0dWRlbnQubmFtZSA9ICByZXEuYm9keS5uYW1lO1xuICAgIHN0dWRlbnQuc3R1ZGVudENhdGVnb3J5ID0gcmVxLmJvZHkuc3R1ZGVudENhdGVnb3J5O1xuICAgIHN0dWRlbnQuY291cnNlc051bWJlcnMgPSByZXEuYm9keS5jb3Vyc2VzTnVtYmVycztcbiAgICBzdHVkZW50Lm1ham9yID0gcmVxLmJvZHkubWFqb3I7XG5cbiAgICBzdHVkZW50LnNhdmUoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpe1xuICAgICAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnU3R1ZGVudCBOT1QgQWRkZWQhJ30pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG5cbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1N0dWRlbnQgQWRkZWQgU3VjY2Vzc2Z1bGx5IScsZGF0YTpzdHVkZW50fSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufVxuXG5yb3V0ZXIuY2hhbmdlQ2F0ZWdvcnkgPShyZXEscmVzKSA9PiB7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB2YXIgY29uZGl0aW9ucyA9IHsgX2lkOiByZXEucGFyYW1zLmlkIH0gLCB1cGRhdGUgPSB7ICBzdHVkZW50Q2F0ZWdvcnk6IHJlcS5ib2R5LnN0dWRlbnRDYXRlZ29yeSB9O1xuICAgIHZhciBxdWVyeSA9IHsgX2lkOiByZXEucGFyYW1zLmlkIH07XG4gICAgU3R1ZGVudC51cGRhdGUocXVlcnksIHsgc3R1ZGVudENhdGVnb3J5OiByZXEuYm9keS5zdHVkZW50Q2F0ZWdvcnl9LGZ1bmN0aW9uIChlcnIsIHN0dWRlbnRzKSB7XG4gICAgICAgIGlmIChlcnIpe1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgcmVzLmpzb24oe21lc3NhZ2U6J1N0dWRlbnQgTk9UIEZvdW5kISAnLCBlcnJtc2cgOiBlcnJ9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5qc29uKCdDYXRlZ29yeSBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbnJvdXRlci5jaGFuZ2VNYWpvciA9KHJlcSxyZXMpID0+IHtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHZhciBjb25kaXRpb25zID0geyBfaWQ6IHJlcS5wYXJhbXMuaWQgfSAsIHVwZGF0ZSA9IHsgIG1ham9yOiByZXEuYm9keS5tYWpvciB9O1xuICAgIHZhciBxdWVyeSA9IHsgX2lkOiByZXEucGFyYW1zLmlkIH07XG4gICAgU3R1ZGVudC51cGRhdGUocXVlcnksIHsgbWFqb3I6IHJlcS5ib2R5Lm1ham9yfSxmdW5jdGlvbiAoZXJyLCBzdHVkZW50cykge1xuICAgICAgICBpZiAoZXJyKXtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlcy5qc29uKHttZXNzYWdlOidTdHVkZW50IE5PVCBGb3VuZCEgJywgZXJybXNnIDogZXJyfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXMuanNvbignTWFqb3IgY2hhbmdlZCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5cbi8vZGVsZXRlIHN0dWRlbnQgYnkgaXRzIGlkO1xucm91dGVyLmRlbGV0ZVN0dWRlbnRCeUlkID0gKHJlcSwgcmVzKSA9PiB7XG4gICAgU3R1ZGVudC5maW5kQnlJZEFuZFJlbW92ZShyZXEucGFyYW1zLmlkLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycil7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdDYW50IGZpbmQgU3R1ZGVudCwgU3R1ZGVudCBOT1QgRGVsZXRlZCEnfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1N0dWRlbnQgRGVsZXRlZCBzdWNjZXNzZnVsbHkhJ30pO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByb3V0ZXI7Il19