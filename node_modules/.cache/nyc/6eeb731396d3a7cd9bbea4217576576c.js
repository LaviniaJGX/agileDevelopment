'use strict';

var cov_bpj4bp59n = function () {
    var path = '/Users/dailu/Documents/homework/endback/coursestest/routes/teacher.js',
        hash = '0df2d58145d38dd0659d371c07a0934e6f0e1cb3',
        Function = function () {}.constructor,
        global = new Function('return this')(),
        gcv = '__coverage__',
        coverageData = {
        path: '/Users/dailu/Documents/homework/endback/coursestest/routes/teacher.js',
        statementMap: {
            '0': {
                start: {
                    line: 1,
                    column: 14
                },
                end: {
                    line: 1,
                    column: 32
                }
            },
            '1': {
                start: {
                    line: 2,
                    column: 13
                },
                end: {
                    line: 2,
                    column: 29
                }
            },
            '2': {
                start: {
                    line: 3,
                    column: 14
                },
                end: {
                    line: 3,
                    column: 42
                }
            },
            '3': {
                start: {
                    line: 6,
                    column: 0
                },
                end: {
                    line: 16,
                    column: 1
                }
            },
            '4': {
                start: {
                    line: 8,
                    column: 4
                },
                end: {
                    line: 8,
                    column: 54
                }
            },
            '5': {
                start: {
                    line: 10,
                    column: 4
                },
                end: {
                    line: 15,
                    column: 7
                }
            },
            '6': {
                start: {
                    line: 11,
                    column: 8
                },
                end: {
                    line: 12,
                    column: 26
                }
            },
            '7': {
                start: {
                    line: 12,
                    column: 12
                },
                end: {
                    line: 12,
                    column: 26
                }
            },
            '8': {
                start: {
                    line: 14,
                    column: 8
                },
                end: {
                    line: 14,
                    column: 50
                }
            },
            '9': {
                start: {
                    line: 19,
                    column: 0
                },
                end: {
                    line: 32,
                    column: 1
                }
            },
            '10': {
                start: {
                    line: 21,
                    column: 4
                },
                end: {
                    line: 21,
                    column: 54
                }
            },
            '11': {
                start: {
                    line: 23,
                    column: 4
                },
                end: {
                    line: 31,
                    column: 7
                }
            },
            '12': {
                start: {
                    line: 24,
                    column: 8
                },
                end: {
                    line: 30,
                    column: 9
                }
            },
            '13': {
                start: {
                    line: 25,
                    column: 12
                },
                end: {
                    line: 25,
                    column: 28
                }
            },
            '14': {
                start: {
                    line: 26,
                    column: 12
                },
                end: {
                    line: 26,
                    column: 44
                }
            },
            '15': {
                start: {
                    line: 29,
                    column: 12
                },
                end: {
                    line: 29,
                    column: 54
                }
            },
            '16': {
                start: {
                    line: 35,
                    column: 0
                },
                end: {
                    line: 47,
                    column: 2
                }
            },
            '17': {
                start: {
                    line: 37,
                    column: 4
                },
                end: {
                    line: 37,
                    column: 54
                }
            },
            '18': {
                start: {
                    line: 39,
                    column: 4
                },
                end: {
                    line: 46,
                    column: 7
                }
            },
            '19': {
                start: {
                    line: 40,
                    column: 8
                },
                end: {
                    line: 45,
                    column: 9
                }
            },
            '20': {
                start: {
                    line: 41,
                    column: 12
                },
                end: {
                    line: 41,
                    column: 69
                }
            },
            '21': {
                start: {
                    line: 44,
                    column: 12
                },
                end: {
                    line: 44,
                    column: 54
                }
            },
            '22': {
                start: {
                    line: 51,
                    column: 0
                },
                end: {
                    line: 65,
                    column: 1
                }
            },
            '23': {
                start: {
                    line: 52,
                    column: 4
                },
                end: {
                    line: 52,
                    column: 54
                }
            },
            '24': {
                start: {
                    line: 53,
                    column: 18
                },
                end: {
                    line: 53,
                    column: 39
                }
            },
            '25': {
                start: {
                    line: 54,
                    column: 12
                },
                end: {
                    line: 54,
                    column: 35
                }
            },
            '26': {
                start: {
                    line: 55,
                    column: 4
                },
                end: {
                    line: 64,
                    column: 7
                }
            },
            '27': {
                start: {
                    line: 56,
                    column: 8
                },
                end: {
                    line: 62,
                    column: 9
                }
            },
            '28': {
                start: {
                    line: 57,
                    column: 12
                },
                end: {
                    line: 57,
                    column: 44
                }
            },
            '29': {
                start: {
                    line: 61,
                    column: 12
                },
                end: {
                    line: 61,
                    column: 54
                }
            },
            '30': {
                start: {
                    line: 69,
                    column: 0
                },
                end: {
                    line: 90,
                    column: 1
                }
            },
            '31': {
                start: {
                    line: 70,
                    column: 4
                },
                end: {
                    line: 70,
                    column: 54
                }
            },
            '32': {
                start: {
                    line: 71,
                    column: 18
                },
                end: {
                    line: 71,
                    column: 31
                }
            },
            '33': {
                start: {
                    line: 73,
                    column: 4
                },
                end: {
                    line: 73,
                    column: 34
                }
            },
            '34': {
                start: {
                    line: 74,
                    column: 4
                },
                end: {
                    line: 74,
                    column: 47
                }
            },
            '35': {
                start: {
                    line: 75,
                    column: 4
                },
                end: {
                    line: 75,
                    column: 51
                }
            },
            '36': {
                start: {
                    line: 76,
                    column: 4
                },
                end: {
                    line: 76,
                    column: 45
                }
            },
            '37': {
                start: {
                    line: 77,
                    column: 4
                },
                end: {
                    line: 77,
                    column: 55
                }
            },
            '38': {
                start: {
                    line: 79,
                    column: 4
                },
                end: {
                    line: 89,
                    column: 7
                }
            },
            '39': {
                start: {
                    line: 80,
                    column: 8
                },
                end: {
                    line: 87,
                    column: 9
                }
            },
            '40': {
                start: {
                    line: 81,
                    column: 12
                },
                end: {
                    line: 81,
                    column: 55
                }
            },
            '41': {
                start: {
                    line: 86,
                    column: 12
                },
                end: {
                    line: 86,
                    column: 77
                }
            },
            '42': {
                start: {
                    line: 92,
                    column: 0
                },
                end: {
                    line: 105,
                    column: 1
                }
            },
            '43': {
                start: {
                    line: 93,
                    column: 4
                },
                end: {
                    line: 93,
                    column: 54
                }
            },
            '44': {
                start: {
                    line: 94,
                    column: 21
                },
                end: {
                    line: 94,
                    column: 43
                }
            },
            '45': {
                start: {
                    line: 94,
                    column: 55
                },
                end: {
                    line: 94,
                    column: 91
                }
            },
            '46': {
                start: {
                    line: 95,
                    column: 16
                },
                end: {
                    line: 95,
                    column: 38
                }
            },
            '47': {
                start: {
                    line: 96,
                    column: 4
                },
                end: {
                    line: 104,
                    column: 6
                }
            },
            '48': {
                start: {
                    line: 97,
                    column: 8
                },
                end: {
                    line: 103,
                    column: 9
                }
            },
            '49': {
                start: {
                    line: 98,
                    column: 12
                },
                end: {
                    line: 98,
                    column: 28
                }
            },
            '50': {
                start: {
                    line: 99,
                    column: 12
                },
                end: {
                    line: 99,
                    column: 68
                }
            },
            '51': {
                start: {
                    line: 102,
                    column: 12
                },
                end: {
                    line: 102,
                    column: 57
                }
            },
            '52': {
                start: {
                    line: 107,
                    column: 0
                },
                end: {
                    line: 120,
                    column: 1
                }
            },
            '53': {
                start: {
                    line: 108,
                    column: 4
                },
                end: {
                    line: 108,
                    column: 54
                }
            },
            '54': {
                start: {
                    line: 109,
                    column: 21
                },
                end: {
                    line: 109,
                    column: 43
                }
            },
            '55': {
                start: {
                    line: 109,
                    column: 55
                },
                end: {
                    line: 109,
                    column: 101
                }
            },
            '56': {
                start: {
                    line: 110,
                    column: 16
                },
                end: {
                    line: 110,
                    column: 38
                }
            },
            '57': {
                start: {
                    line: 111,
                    column: 4
                },
                end: {
                    line: 119,
                    column: 6
                }
            },
            '58': {
                start: {
                    line: 112,
                    column: 8
                },
                end: {
                    line: 118,
                    column: 9
                }
            },
            '59': {
                start: {
                    line: 113,
                    column: 12
                },
                end: {
                    line: 113,
                    column: 28
                }
            },
            '60': {
                start: {
                    line: 114,
                    column: 12
                },
                end: {
                    line: 114,
                    column: 68
                }
            },
            '61': {
                start: {
                    line: 117,
                    column: 12
                },
                end: {
                    line: 117,
                    column: 52
                }
            },
            '62': {
                start: {
                    line: 124,
                    column: 0
                },
                end: {
                    line: 137,
                    column: 1
                }
            },
            '63': {
                start: {
                    line: 126,
                    column: 4
                },
                end: {
                    line: 136,
                    column: 7
                }
            },
            '64': {
                start: {
                    line: 127,
                    column: 8
                },
                end: {
                    line: 134,
                    column: 9
                }
            },
            '65': {
                start: {
                    line: 128,
                    column: 12
                },
                end: {
                    line: 128,
                    column: 28
                }
            },
            '66': {
                start: {
                    line: 129,
                    column: 12
                },
                end: {
                    line: 129,
                    column: 76
                }
            },
            '67': {
                start: {
                    line: 133,
                    column: 12
                },
                end: {
                    line: 133,
                    column: 66
                }
            },
            '68': {
                start: {
                    line: 140,
                    column: 0
                },
                end: {
                    line: 140,
                    column: 24
                }
            }
        },
        fnMap: {
            '0': {
                name: '(anonymous_0)',
                decl: {
                    start: {
                        line: 6,
                        column: 17
                    },
                    end: {
                        line: 6,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 6,
                        column: 31
                    },
                    end: {
                        line: 16,
                        column: 1
                    }
                },
                line: 6
            },
            '1': {
                name: '(anonymous_1)',
                decl: {
                    start: {
                        line: 10,
                        column: 17
                    },
                    end: {
                        line: 10,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 10,
                        column: 41
                    },
                    end: {
                        line: 15,
                        column: 5
                    }
                },
                line: 10
            },
            '2': {
                name: '(anonymous_2)',
                decl: {
                    start: {
                        line: 19,
                        column: 18
                    },
                    end: {
                        line: 19,
                        column: 19
                    }
                },
                loc: {
                    start: {
                        line: 19,
                        column: 32
                    },
                    end: {
                        line: 32,
                        column: 1
                    }
                },
                line: 19
            },
            '3': {
                name: '(anonymous_3)',
                decl: {
                    start: {
                        line: 23,
                        column: 43
                    },
                    end: {
                        line: 23,
                        column: 44
                    }
                },
                loc: {
                    start: {
                        line: 23,
                        column: 67
                    },
                    end: {
                        line: 31,
                        column: 5
                    }
                },
                line: 23
            },
            '4': {
                name: '(anonymous_4)',
                decl: {
                    start: {
                        line: 35,
                        column: 20
                    },
                    end: {
                        line: 35,
                        column: 21
                    }
                },
                loc: {
                    start: {
                        line: 35,
                        column: 34
                    },
                    end: {
                        line: 47,
                        column: 1
                    }
                },
                line: 35
            },
            '5': {
                name: '(anonymous_5)',
                decl: {
                    start: {
                        line: 39,
                        column: 46
                    },
                    end: {
                        line: 39,
                        column: 47
                    }
                },
                loc: {
                    start: {
                        line: 39,
                        column: 70
                    },
                    end: {
                        line: 46,
                        column: 5
                    }
                },
                line: 39
            },
            '6': {
                name: '(anonymous_6)',
                decl: {
                    start: {
                        line: 51,
                        column: 22
                    },
                    end: {
                        line: 51,
                        column: 23
                    }
                },
                loc: {
                    start: {
                        line: 51,
                        column: 35
                    },
                    end: {
                        line: 65,
                        column: 1
                    }
                },
                line: 51
            },
            '7': {
                name: '(anonymous_7)',
                decl: {
                    start: {
                        line: 55,
                        column: 47
                    },
                    end: {
                        line: 55,
                        column: 48
                    }
                },
                loc: {
                    start: {
                        line: 55,
                        column: 71
                    },
                    end: {
                        line: 64,
                        column: 5
                    }
                },
                line: 55
            },
            '8': {
                name: '(anonymous_8)',
                decl: {
                    start: {
                        line: 69,
                        column: 20
                    },
                    end: {
                        line: 69,
                        column: 21
                    }
                },
                loc: {
                    start: {
                        line: 69,
                        column: 34
                    },
                    end: {
                        line: 90,
                        column: 1
                    }
                },
                line: 69
            },
            '9': {
                name: '(anonymous_9)',
                decl: {
                    start: {
                        line: 79,
                        column: 17
                    },
                    end: {
                        line: 79,
                        column: 18
                    }
                },
                loc: {
                    start: {
                        line: 79,
                        column: 31
                    },
                    end: {
                        line: 89,
                        column: 5
                    }
                },
                line: 79
            },
            '10': {
                name: '(anonymous_10)',
                decl: {
                    start: {
                        line: 92,
                        column: 32
                    },
                    end: {
                        line: 92,
                        column: 33
                    }
                },
                loc: {
                    start: {
                        line: 92,
                        column: 45
                    },
                    end: {
                        line: 105,
                        column: 1
                    }
                },
                line: 92
            },
            '11': {
                name: '(anonymous_11)',
                decl: {
                    start: {
                        line: 96,
                        column: 61
                    },
                    end: {
                        line: 96,
                        column: 62
                    }
                },
                loc: {
                    start: {
                        line: 96,
                        column: 86
                    },
                    end: {
                        line: 104,
                        column: 5
                    }
                },
                line: 96
            },
            '12': {
                name: '(anonymous_12)',
                decl: {
                    start: {
                        line: 107,
                        column: 27
                    },
                    end: {
                        line: 107,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 107,
                        column: 40
                    },
                    end: {
                        line: 120,
                        column: 1
                    }
                },
                line: 107
            },
            '13': {
                name: '(anonymous_13)',
                decl: {
                    start: {
                        line: 111,
                        column: 71
                    },
                    end: {
                        line: 111,
                        column: 72
                    }
                },
                loc: {
                    start: {
                        line: 111,
                        column: 96
                    },
                    end: {
                        line: 119,
                        column: 5
                    }
                },
                line: 111
            },
            '14': {
                name: '(anonymous_14)',
                decl: {
                    start: {
                        line: 124,
                        column: 27
                    },
                    end: {
                        line: 124,
                        column: 28
                    }
                },
                loc: {
                    start: {
                        line: 124,
                        column: 41
                    },
                    end: {
                        line: 137,
                        column: 1
                    }
                },
                line: 124
            },
            '15': {
                name: '(anonymous_15)',
                decl: {
                    start: {
                        line: 126,
                        column: 45
                    },
                    end: {
                        line: 126,
                        column: 46
                    }
                },
                loc: {
                    start: {
                        line: 126,
                        column: 59
                    },
                    end: {
                        line: 136,
                        column: 5
                    }
                },
                line: 126
            }
        },
        branchMap: {
            '0': {
                loc: {
                    start: {
                        line: 11,
                        column: 8
                    },
                    end: {
                        line: 12,
                        column: 26
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 11,
                        column: 8
                    },
                    end: {
                        line: 12,
                        column: 26
                    }
                }, {
                    start: {
                        line: 11,
                        column: 8
                    },
                    end: {
                        line: 12,
                        column: 26
                    }
                }],
                line: 11
            },
            '1': {
                loc: {
                    start: {
                        line: 24,
                        column: 8
                    },
                    end: {
                        line: 30,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 24,
                        column: 8
                    },
                    end: {
                        line: 30,
                        column: 9
                    }
                }, {
                    start: {
                        line: 24,
                        column: 8
                    },
                    end: {
                        line: 30,
                        column: 9
                    }
                }],
                line: 24
            },
            '2': {
                loc: {
                    start: {
                        line: 40,
                        column: 8
                    },
                    end: {
                        line: 45,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 40,
                        column: 8
                    },
                    end: {
                        line: 45,
                        column: 9
                    }
                }, {
                    start: {
                        line: 40,
                        column: 8
                    },
                    end: {
                        line: 45,
                        column: 9
                    }
                }],
                line: 40
            },
            '3': {
                loc: {
                    start: {
                        line: 56,
                        column: 8
                    },
                    end: {
                        line: 62,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 56,
                        column: 8
                    },
                    end: {
                        line: 62,
                        column: 9
                    }
                }, {
                    start: {
                        line: 56,
                        column: 8
                    },
                    end: {
                        line: 62,
                        column: 9
                    }
                }],
                line: 56
            },
            '4': {
                loc: {
                    start: {
                        line: 80,
                        column: 8
                    },
                    end: {
                        line: 87,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 80,
                        column: 8
                    },
                    end: {
                        line: 87,
                        column: 9
                    }
                }, {
                    start: {
                        line: 80,
                        column: 8
                    },
                    end: {
                        line: 87,
                        column: 9
                    }
                }],
                line: 80
            },
            '5': {
                loc: {
                    start: {
                        line: 97,
                        column: 8
                    },
                    end: {
                        line: 103,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 97,
                        column: 8
                    },
                    end: {
                        line: 103,
                        column: 9
                    }
                }, {
                    start: {
                        line: 97,
                        column: 8
                    },
                    end: {
                        line: 103,
                        column: 9
                    }
                }],
                line: 97
            },
            '6': {
                loc: {
                    start: {
                        line: 112,
                        column: 8
                    },
                    end: {
                        line: 118,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 112,
                        column: 8
                    },
                    end: {
                        line: 118,
                        column: 9
                    }
                }, {
                    start: {
                        line: 112,
                        column: 8
                    },
                    end: {
                        line: 118,
                        column: 9
                    }
                }],
                line: 112
            },
            '7': {
                loc: {
                    start: {
                        line: 127,
                        column: 8
                    },
                    end: {
                        line: 134,
                        column: 9
                    }
                },
                type: 'if',
                locations: [{
                    start: {
                        line: 127,
                        column: 8
                    },
                    end: {
                        line: 134,
                        column: 9
                    }
                }, {
                    start: {
                        line: 127,
                        column: 8
                    },
                    end: {
                        line: 134,
                        column: 9
                    }
                }],
                line: 127
            }
        },
        s: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0,
            '16': 0,
            '17': 0,
            '18': 0,
            '19': 0,
            '20': 0,
            '21': 0,
            '22': 0,
            '23': 0,
            '24': 0,
            '25': 0,
            '26': 0,
            '27': 0,
            '28': 0,
            '29': 0,
            '30': 0,
            '31': 0,
            '32': 0,
            '33': 0,
            '34': 0,
            '35': 0,
            '36': 0,
            '37': 0,
            '38': 0,
            '39': 0,
            '40': 0,
            '41': 0,
            '42': 0,
            '43': 0,
            '44': 0,
            '45': 0,
            '46': 0,
            '47': 0,
            '48': 0,
            '49': 0,
            '50': 0,
            '51': 0,
            '52': 0,
            '53': 0,
            '54': 0,
            '55': 0,
            '56': 0,
            '57': 0,
            '58': 0,
            '59': 0,
            '60': 0,
            '61': 0,
            '62': 0,
            '63': 0,
            '64': 0,
            '65': 0,
            '66': 0,
            '67': 0,
            '68': 0
        },
        f: {
            '0': 0,
            '1': 0,
            '2': 0,
            '3': 0,
            '4': 0,
            '5': 0,
            '6': 0,
            '7': 0,
            '8': 0,
            '9': 0,
            '10': 0,
            '11': 0,
            '12': 0,
            '13': 0,
            '14': 0,
            '15': 0
        },
        b: {
            '0': [0, 0],
            '1': [0, 0],
            '2': [0, 0],
            '3': [0, 0],
            '4': [0, 0],
            '5': [0, 0],
            '6': [0, 0],
            '7': [0, 0]
        },
        _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
    },
        coverage = global[gcv] || (global[gcv] = {});

    if (coverage[path] && coverage[path].hash === hash) {
        return coverage[path];
    }

    coverageData.hash = hash;
    return coverage[path] = coverageData;
}();

var express = (cov_bpj4bp59n.s[0]++, require('express'));
var router = (cov_bpj4bp59n.s[1]++, express.Router());
var Teacher = (cov_bpj4bp59n.s[2]++, require('../models/teacher'));

//find all teachers
cov_bpj4bp59n.s[3]++;
router.findAll = function (req, res) {
    cov_bpj4bp59n.f[0]++;
    cov_bpj4bp59n.s[4]++;

    // Return a JSON representation of our list
    res.setHeader('Content-Type', 'application/json');

    cov_bpj4bp59n.s[5]++;
    Teacher.find(function (err, teachers) {
        cov_bpj4bp59n.f[1]++;
        cov_bpj4bp59n.s[6]++;

        if (err) {
                cov_bpj4bp59n.b[0][0]++;
                cov_bpj4bp59n.s[7]++;

                res.send(err);
            } else {
            cov_bpj4bp59n.b[0][1]++;
        }cov_bpj4bp59n.s[8]++;
        res.send(JSON.stringify(teachers, null, 5));
    });
};

//find certain teacher by id:
cov_bpj4bp59n.s[9]++;
router.findById = function (req, res) {
    cov_bpj4bp59n.f[2]++;
    cov_bpj4bp59n.s[10]++;


    res.setHeader('Content-Type', 'application/json');

    cov_bpj4bp59n.s[11]++;
    Teacher.find({ "_id": req.params.id }, function (err, teachers) {
        cov_bpj4bp59n.f[3]++;
        cov_bpj4bp59n.s[12]++;

        if (err) {
            cov_bpj4bp59n.b[1][0]++;
            cov_bpj4bp59n.s[13]++;

            res.status(404);
            cov_bpj4bp59n.s[14]++;
            res.send('Teacher NOT Found!!');
        } else {
            cov_bpj4bp59n.b[1][1]++;
            cov_bpj4bp59n.s[15]++;

            res.send(JSON.stringify(teachers, null, 5));
        }
    });
};

//find certain teacher by its name;
cov_bpj4bp59n.s[16]++;
router.findByName = function (req, res) {
    cov_bpj4bp59n.f[4]++;
    cov_bpj4bp59n.s[17]++;


    res.setHeader('Content-Type', 'application/json');

    cov_bpj4bp59n.s[18]++;
    Teacher.find({ "name": req.params.name }, function (err, teachers) {
        cov_bpj4bp59n.f[5]++;
        cov_bpj4bp59n.s[19]++;

        if (err) {
            cov_bpj4bp59n.b[2][0]++;
            cov_bpj4bp59n.s[20]++;

            res.send('The teacher you asked to find is NOT EXIST!!');
        } else {
            cov_bpj4bp59n.b[2][1]++;
            cov_bpj4bp59n.s[21]++;

            res.send(JSON.stringify(teachers, null, 5));
        }
    });
};

//find certain teacher which contains certain name elements;
cov_bpj4bp59n.s[22]++;
router.containNames = function (req, res) {
    cov_bpj4bp59n.f[6]++;
    cov_bpj4bp59n.s[23]++;

    res.setHeader('Content-Type', 'application/json');
    var keyword = (cov_bpj4bp59n.s[24]++, req.params.department);
    var reg = (cov_bpj4bp59n.s[25]++, new RegExp(keyword, 'i'));
    cov_bpj4bp59n.s[26]++;
    Teacher.find({ 'department': { $regex: reg } }, function (err, teachers) {
        cov_bpj4bp59n.f[7]++;
        cov_bpj4bp59n.s[27]++;

        if (err) {
            cov_bpj4bp59n.b[3][0]++;
            cov_bpj4bp59n.s[28]++;

            res.send('Teacher NOT Found!!');
        }
        // return a suitable error message
        else {
                cov_bpj4bp59n.b[3][1]++;
                cov_bpj4bp59n.s[29]++;

                res.send(JSON.stringify(teachers, null, 5));
            }
        // return the donation
    });
};

//add teacher
cov_bpj4bp59n.s[30]++;
router.addTeacher = function (req, res) {
    cov_bpj4bp59n.f[8]++;
    cov_bpj4bp59n.s[31]++;

    res.setHeader('Content-Type', 'application/json');
    var teacher = (cov_bpj4bp59n.s[32]++, new Teacher());

    cov_bpj4bp59n.s[33]++;
    teacher.name = req.body.name;
    cov_bpj4bp59n.s[34]++;
    teacher.teacherType = req.body.teacherType;
    cov_bpj4bp59n.s[35]++;
    teacher.teacherGender = req.body.teacherGender;
    cov_bpj4bp59n.s[36]++;
    teacher.department = req.body.department;
    cov_bpj4bp59n.s[37]++;
    teacher.departmentMajor = req.body.departmentMajor;

    cov_bpj4bp59n.s[38]++;
    teacher.save(function (err) {
        cov_bpj4bp59n.f[9]++;
        cov_bpj4bp59n.s[39]++;

        if (err) {
            cov_bpj4bp59n.b[4][0]++;
            cov_bpj4bp59n.s[40]++;

            res.json({ message: 'Teacher NOT Added!' });
        }
        // return a suitable error message
        else {
                cov_bpj4bp59n.b[4][1]++;
                cov_bpj4bp59n.s[41]++;


                res.json({ message: 'Teacher Added Successfully!', data: teacher });
            }
        // return a suitable success message
    });
};

cov_bpj4bp59n.s[42]++;
router.changeCertainDepartment = function (req, res) {
    cov_bpj4bp59n.f[10]++;
    cov_bpj4bp59n.s[43]++;

    res.setHeader('Content-Type', 'application/json');
    var conditions = (cov_bpj4bp59n.s[44]++, { _id: req.params.id }),
        update = (cov_bpj4bp59n.s[45]++, { department: req.body.department });
    var query = (cov_bpj4bp59n.s[46]++, { _id: req.params.id });
    cov_bpj4bp59n.s[47]++;
    Teacher.update(query, { department: req.body.department }, function (err, teachers) {
        cov_bpj4bp59n.f[11]++;
        cov_bpj4bp59n.s[48]++;

        if (err) {
            cov_bpj4bp59n.b[5][0]++;
            cov_bpj4bp59n.s[49]++;

            res.status(404);
            cov_bpj4bp59n.s[50]++;
            res.json({ message: 'Teacher NOT Found! ', errmsg: err });
        } else {
            cov_bpj4bp59n.b[5][1]++;
            cov_bpj4bp59n.s[51]++;

            res.json('Department changed successfully!');
        }
    });
};

cov_bpj4bp59n.s[52]++;
router.changeCertainMajor = function (req, res) {
    cov_bpj4bp59n.f[12]++;
    cov_bpj4bp59n.s[53]++;

    res.setHeader('Content-Type', 'application/json');
    var conditions = (cov_bpj4bp59n.s[54]++, { _id: req.params.id }),
        update = (cov_bpj4bp59n.s[55]++, { departmentMajor: req.body.departmentMajor });
    var query = (cov_bpj4bp59n.s[56]++, { _id: req.params.id });
    cov_bpj4bp59n.s[57]++;
    Teacher.update(query, { departmentMajor: req.body.departmentMajor }, function (err, teachers) {
        cov_bpj4bp59n.f[13]++;
        cov_bpj4bp59n.s[58]++;

        if (err) {
            cov_bpj4bp59n.b[6][0]++;
            cov_bpj4bp59n.s[59]++;

            res.status(404);
            cov_bpj4bp59n.s[60]++;
            res.json({ message: 'Teacher NOT Found! ', errmsg: err });
        } else {
            cov_bpj4bp59n.b[6][1]++;
            cov_bpj4bp59n.s[61]++;

            res.json('Major changed successfully!');
        }
    });
};

//delete teacher by its id;
cov_bpj4bp59n.s[62]++;
router.deleteTeacherById = function (req, res) {
    cov_bpj4bp59n.f[14]++;
    cov_bpj4bp59n.s[63]++;


    Teacher.findByIdAndRemove(req.params.id, function (err) {
        cov_bpj4bp59n.f[15]++;
        cov_bpj4bp59n.s[64]++;

        if (err) {
            cov_bpj4bp59n.b[7][0]++;
            cov_bpj4bp59n.s[65]++;

            res.status(404);
            cov_bpj4bp59n.s[66]++;
            res.json({ message: 'Cant find Teacher, Teacher NOT Deleted!' });
        }
        // return a suitable error message
        else {
                cov_bpj4bp59n.b[7][1]++;
                cov_bpj4bp59n.s[67]++;

                res.json({ message: 'Teacher Deleted successfully!' });
            }
    });
};

cov_bpj4bp59n.s[68]++;
module.exports = router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlYWNoZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJUZWFjaGVyIiwiZmluZEFsbCIsInJlcSIsInJlcyIsInNldEhlYWRlciIsImZpbmQiLCJlcnIiLCJ0ZWFjaGVycyIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJpZCIsInN0YXR1cyIsImZpbmRCeU5hbWUiLCJuYW1lIiwiY29udGFpbk5hbWVzIiwia2V5d29yZCIsImRlcGFydG1lbnQiLCJyZWciLCJSZWdFeHAiLCIkcmVnZXgiLCJhZGRUZWFjaGVyIiwidGVhY2hlciIsImJvZHkiLCJ0ZWFjaGVyVHlwZSIsInRlYWNoZXJHZW5kZXIiLCJkZXBhcnRtZW50TWFqb3IiLCJzYXZlIiwianNvbiIsIm1lc3NhZ2UiLCJkYXRhIiwiY2hhbmdlQ2VydGFpbkRlcGFydG1lbnQiLCJjb25kaXRpb25zIiwiX2lkIiwidXBkYXRlIiwicXVlcnkiLCJlcnJtc2ciLCJjaGFuZ2VDZXJ0YWluTWFqb3IiLCJkZWxldGVUZWFjaGVyQnlJZCIsImZpbmRCeUlkQW5kUmVtb3ZlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QyxNQUFqQiIsImZpbGUiOiJ0ZWFjaGVyLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9kYWlsdS9Eb2N1bWVudHMvaG9tZXdvcmsvZW5kYmFjay9jb3Vyc2VzdGVzdC9yb3V0ZXMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmxldCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xudmFyIFRlYWNoZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvdGVhY2hlcicpO1xuXG4vL2ZpbmQgYWxsIHRlYWNoZXJzXG5yb3V0ZXIuZmluZEFsbCA9IChyZXEsIHJlcykgPT4ge1xuICAgIC8vIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2Ygb3VyIGxpc3RcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgVGVhY2hlci5maW5kKGZ1bmN0aW9uKGVyciwgdGVhY2hlcnMpIHtcbiAgICAgICAgaWYgKGVycilcbiAgICAgICAgICAgIHJlcy5zZW5kKGVycik7XG5cbiAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkodGVhY2hlcnMsbnVsbCw1KSk7XG4gICAgfSk7XG59XG5cbi8vZmluZCBjZXJ0YWluIHRlYWNoZXIgYnkgaWQ6XG5yb3V0ZXIuZmluZEJ5SWQgPSAocmVxLCByZXMpID0+IHtcblxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICBUZWFjaGVyLmZpbmQoeyBcIl9pZFwiIDogcmVxLnBhcmFtcy5pZCB9LGZ1bmN0aW9uKGVyciwgdGVhY2hlcnMpIHtcbiAgICAgICAgaWYgKGVycil7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCk7XG4gICAgICAgICAgICByZXMuc2VuZCgnVGVhY2hlciBOT1QgRm91bmQhIScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICByZXMuc2VuZChKU09OLnN0cmluZ2lmeSh0ZWFjaGVycyxudWxsLDUpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vL2ZpbmQgY2VydGFpbiB0ZWFjaGVyIGJ5IGl0cyBuYW1lO1xucm91dGVyLmZpbmRCeU5hbWUgPSAocmVxLCByZXMpID0+IHtcblxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICBUZWFjaGVyLmZpbmQoeyBcIm5hbWVcIiA6IHJlcS5wYXJhbXMubmFtZSB9LGZ1bmN0aW9uKGVyciwgdGVhY2hlcnMpIHtcbiAgICAgICAgaWYgKGVycil7XG4gICAgICAgICAgICByZXMuc2VuZCgnVGhlIHRlYWNoZXIgeW91IGFza2VkIHRvIGZpbmQgaXMgTk9UIEVYSVNUISEnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgcmVzLnNlbmQoSlNPTi5zdHJpbmdpZnkodGVhY2hlcnMsbnVsbCw1KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuLy9maW5kIGNlcnRhaW4gdGVhY2hlciB3aGljaCBjb250YWlucyBjZXJ0YWluIG5hbWUgZWxlbWVudHM7XG5yb3V0ZXIuY29udGFpbk5hbWVzID0gKHJlcSwgcmVzKSA9PntcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHZhciBrZXl3b3JkID0gcmVxLnBhcmFtcy5kZXBhcnRtZW50O1xuICAgIHZhciByZWc9bmV3IFJlZ0V4cChrZXl3b3JkLCdpJyk7XG4gICAgVGVhY2hlci5maW5kKHsnZGVwYXJ0bWVudCc6eyRyZWdleDogcmVnfSB9LGZ1bmN0aW9uKGVyciwgdGVhY2hlcnMpIHtcbiAgICAgICAgaWYgKGVycil7XG4gICAgICAgICAgICByZXMuc2VuZCgnVGVhY2hlciBOT1QgRm91bmQhIScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBhIHN1aXRhYmxlIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJlcy5zZW5kKEpTT04uc3RyaW5naWZ5KHRlYWNoZXJzLG51bGwsNSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiB0aGUgZG9uYXRpb25cbiAgICB9KTtcbn1cblxuXG4vL2FkZCB0ZWFjaGVyXG5yb3V0ZXIuYWRkVGVhY2hlciA9IChyZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgdmFyIHRlYWNoZXIgPSBuZXcgVGVhY2hlcigpO1xuXG4gICAgdGVhY2hlci5uYW1lID0gIHJlcS5ib2R5Lm5hbWU7XG4gICAgdGVhY2hlci50ZWFjaGVyVHlwZSA9IHJlcS5ib2R5LnRlYWNoZXJUeXBlO1xuICAgIHRlYWNoZXIudGVhY2hlckdlbmRlciA9IHJlcS5ib2R5LnRlYWNoZXJHZW5kZXI7XG4gICAgdGVhY2hlci5kZXBhcnRtZW50ID0gcmVxLmJvZHkuZGVwYXJ0bWVudDtcbiAgICB0ZWFjaGVyLmRlcGFydG1lbnRNYWpvciA9IHJlcS5ib2R5LmRlcGFydG1lbnRNYWpvcjtcblxuICAgIHRlYWNoZXIuc2F2ZShmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycil7XG4gICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdUZWFjaGVyIE5PVCBBZGRlZCEnfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIGEgc3VpdGFibGUgZXJyb3IgbWVzc2FnZVxuICAgICAgICBlbHNle1xuXG4gICAgICAgICAgICByZXMuanNvbih7IG1lc3NhZ2U6ICdUZWFjaGVyIEFkZGVkIFN1Y2Nlc3NmdWxseSEnLGRhdGE6dGVhY2hlcn0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBhIHN1aXRhYmxlIHN1Y2Nlc3MgbWVzc2FnZVxuICAgIH0pO1xufVxuXG5yb3V0ZXIuY2hhbmdlQ2VydGFpbkRlcGFydG1lbnQgPShyZXEscmVzKSA9PiB7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB2YXIgY29uZGl0aW9ucyA9IHsgX2lkOiByZXEucGFyYW1zLmlkIH0gLCB1cGRhdGUgPSB7ICBkZXBhcnRtZW50OiByZXEuYm9keS5kZXBhcnRtZW50IH07XG4gICAgdmFyIHF1ZXJ5ID0geyBfaWQ6IHJlcS5wYXJhbXMuaWQgfTtcbiAgICBUZWFjaGVyLnVwZGF0ZShxdWVyeSwgeyBkZXBhcnRtZW50OiByZXEuYm9keS5kZXBhcnRtZW50fSxmdW5jdGlvbiAoZXJyLCB0ZWFjaGVycykge1xuICAgICAgICBpZiAoZXJyKXtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KTtcbiAgICAgICAgICAgIHJlcy5qc29uKHttZXNzYWdlOidUZWFjaGVyIE5PVCBGb3VuZCEgJywgZXJybXNnIDogZXJyfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXMuanNvbignRGVwYXJ0bWVudCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbnJvdXRlci5jaGFuZ2VDZXJ0YWluTWFqb3IgPShyZXEscmVzKSA9PiB7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB2YXIgY29uZGl0aW9ucyA9IHsgX2lkOiByZXEucGFyYW1zLmlkIH0gLCB1cGRhdGUgPSB7ICBkZXBhcnRtZW50TWFqb3I6IHJlcS5ib2R5LmRlcGFydG1lbnRNYWpvciB9O1xuICAgIHZhciBxdWVyeSA9IHsgX2lkOiByZXEucGFyYW1zLmlkIH07XG4gICAgVGVhY2hlci51cGRhdGUocXVlcnksIHsgZGVwYXJ0bWVudE1ham9yOiByZXEuYm9keS5kZXBhcnRtZW50TWFqb3J9LGZ1bmN0aW9uIChlcnIsIHRlYWNoZXJzKSB7XG4gICAgICAgIGlmIChlcnIpe1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgcmVzLmpzb24oe21lc3NhZ2U6J1RlYWNoZXIgTk9UIEZvdW5kISAnLCBlcnJtc2cgOiBlcnJ9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcy5qc29uKCdNYWpvciBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICAgICAgfVxuICAgIH0pXG59XG5cblxuLy9kZWxldGUgdGVhY2hlciBieSBpdHMgaWQ7XG5yb3V0ZXIuZGVsZXRlVGVhY2hlckJ5SWQgPSAocmVxLCByZXMpID0+IHtcblxuICAgIFRlYWNoZXIuZmluZEJ5SWRBbmRSZW1vdmUocmVxLnBhcmFtcy5pZCwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpe1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xuICAgICAgICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnQ2FudCBmaW5kIFRlYWNoZXIsIFRlYWNoZXIgTk9UIERlbGV0ZWQhJ30pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBhIHN1aXRhYmxlIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1RlYWNoZXIgRGVsZXRlZCBzdWNjZXNzZnVsbHkhJ30pO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHJvdXRlcjsiXX0=